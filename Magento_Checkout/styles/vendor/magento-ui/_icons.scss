//
//  Icons using image or sprite
//  ---------------------------------------------

@mixin lib-icon-image(
    $_icon-image,
    $_icon-image-width         : $icon__width,
    $_icon-image-height        : $icon__height,
    $_icon-image-margin        : $icon__margin,
    $_icon-image-vertical-align: $icon__vertical-align,
    $_icon-image-position-x    : $icon-image__position-x,
    $_icon-image-position-y    : $icon-image__position-y,
    $_icon-image-position      : $icon__position,
    $_icon-image-text-hide     : $icon__text-hide
) {
    @if $_icon-image-position == before {
        display: inline-block;
        @include _lib-icon-text-hide($_icon-image-text-hide);

        &:before {
            @include _lib-icon-image(
                $_icon-image,
                $_icon-image-width,
                $_icon-image-height,
                $_icon-image-margin,
                $_icon-image-vertical-align,
                $_icon-image-position-x,
                $_icon-image-position-y
            );
            margin: $_icon-image-margin;
        }
    }
    @else if $_icon-image-position == after {
        display: inline-block;
        @include _lib-icon-text-hide($_icon-image-text-hide);

        &:after {
            @include _lib-icon-image(
                $_icon-image,
                $_icon-image-width,
                $_icon-image-height,
                $_icon-image-margin,
                $_icon-image-vertical-align,
                $_icon-image-position-x,
                $_icon-image-position-y
            );
            margin: $_icon-image-margin;
        }
    }
}

@mixin lib-icon-image-position(
    $_icon-image-position-x: $icon-image__position-x,
    $_icon-image-position-y: $icon-image__position-y,
    $_icon-image-position  : $icon__position
) {
    @if $_icon-image-position == before {
        &:before {
            @include _lib-icon-image-position(
                $_icon-image-position-x,
                $_icon-image-position-y
            );
        }
    }
    @else if $_icon-image-position == after {
        &:after {
            @include _lib-icon-image-position(
                $_icon-image-position-x,
                $_icon-image-position-y
            );
        }
    }
}

@mixin lib-icon-sprite-position(
    $_icon-sprite-position-x: $icon-sprite__position-x,
    $_icon-sprite-position-y: $icon-sprite__position-y,
    $_icon-sprite-grid      : $icon-sprite__grid,
    $_icon-sprite-position  : $icon__position
) {
    @if $_icon-sprite-position == before {
        &:before {
            @include _lib-icon-sprite-position(
                $_icon-sprite-position-x,
                $_icon-sprite-position-y,
                $_icon-sprite-grid
            );
        }
    }
    @else if $_icon-sprite-position == after {
        &:after {
            @include _lib-icon-sprite-position(
                $_icon-sprite-position-x,
                $_icon-sprite-position-y,
                $_icon-sprite-grid
            );
        }
    }
}


@mixin lib-icon-image-size(
    $_icon-image-width   : $icon__width,
    $_icon-image-height  : $icon__height,
    $_icon-image-position: $icon__position
) {
    @if $_icon-image-position == before {
        &:before {
            @include _lib-icon-image-size($_icon-image-width, $_icon-image-height);
        }
    }
    @else if $_icon-image-position == after {
        &:after {
            @include _lib-icon-image-size($_icon-image-width, $_icon-image-height);
        }
    }
}

@mixin lib-icon-text-hide() {
    & > span {
        @include lib-visually-hidden();
    }
}

//
//  Internal use mixins
//  ---------------------------------------------

@mixin _lib-icon-text-hide($_icon-text-hide) {
    @if $_icon-text-hide == true {
        @include lib-icon-text-hide();
    }
}

@mixin _lib-icon-image(
    $_icon-image,
    $_icon-image-width,
    $_icon-image-height,
    $_icon-image-margin,
    $_icon-image-vertical-align,
    $_icon-image-position-x,
    $_icon-image-position-y
) {
    @include lib-url-check($_icon-image);

    background-image: $lib-url-check-output;
    background-position-x: $_icon-image-position-x;
    background-position-y: $_icon-image-position-y;
    line-height: $_icon-image-height;
    margin: $_icon-image-margin;
    vertical-align: $_icon-image-vertical-align;
    background-repeat: no-repeat;
    content: '';
    display: inline-block;
}
