<?xml version="1.0"?>
<page
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="urn:magento:framework:View/Layout/etc/page_configuration.xsd"
>
    <update handle="cms_page_view" />
    <body>
        <referenceContainer name="content" htmlClass="home">
            <!-- Main slider -->
            <container
                name="section.home.slider"
                htmlTag="section"
                htmlClass="section section--secondary"
            >
                <container
                    name="section.home.slider.content"
                    htmlTag="div"
                    htmlClass="section__content"
                >
                    <block
                        class="Blackbird\ContentManager\Block\Content\Widget\ContentList"
                        name="colibri-home-slider"
                        template="Blackbird_ContentManager::content/view/colibri_sliders/list.phtml"
                    >
                        <arguments>
                            <argument name="slider_picture_block" xsi:type="string">colibri-homepage-picture</argument>
                            <argument name="slider_class" xsi:type="string">slider</argument>
                        </arguments>
                        <action method="setCtType">
                            <argument name="type" xsi:type="string">colibri_sliders</argument>
                        </action>
                        <action method="setPager">
                            <argument name="pager" xsi:type="boolean">false</argument>
                        </action>
                        <action method="setLimitDisplay">
                            <argument name="limit_display" xsi:type="string">1</argument>
                        </action>
                        <action method="addAttributeToFilter">
                            <argument name="attribute" xsi:type="string">cb_slider_id</argument>
                            <argument name="condition" xsi:type="string">eq</argument>
                            <argument name="value" xsi:type="string">colibri-home-slider</argument>
                        </action>

                        <block
                            class="Magento\Framework\View\Element\Template"
                            name="colibri-homepage-picture"
                            template="Magento_Theme::html/picture.phtml"
                        />
                    </block>
                </container>
            </container>


            <!-- Brief info block -->
            <block class="Magento\Cms\Block\Block" name="home-brief-info">
                <arguments>
                    <argument name="block_id" xsi:type="string">home-brief-info</argument>
                </arguments>
            </block>

            <!-- Categories banners -->
            <block class="Magento\Cms\Block\Block" name="home-categories-banners">
                <arguments>
                    <argument name="block_id" xsi:type="string">home-categories-banners</argument>
                </arguments>
            </block>

            <!-- Additional banners -->
            <block class="Magento\Cms\Block\Block" name="home-additional-banners">
                <arguments>
                    <argument name="block_id" xsi:type="string">home-additional-banners</argument>
                </arguments>
            </block>

            <!-- Products list widget  -->
            <block class="Magento\Cms\Block\Block" name="home-products-widget">
                <arguments>
                    <argument name="block_id" xsi:type="string">home-products-widget</argument>
                </arguments>
            </block>

            <!-- Teasers -->
            <block class="Magento\Cms\Block\Block" name="home-teasers">
                <arguments>
                    <argument name="block_id" xsi:type="string">home-teasers</argument>
                </arguments>
            </block>

            <!-- Products NEW list widget  -->
            <block class="Magento\Cms\Block\Block" name="home-new-products-widget">
                <arguments>
                    <argument name="block_id" xsi:type="string">home-new-products-widget</argument>
                </arguments>
            </block>

            <!-- Top brands (slider) -->
            <container
                name="colibri-home-brands-section"
                htmlTag="section"
                htmlClass="section"
            >
                <container
                    name="colibri-home-brands-container"
                    htmlTag="div"
                    htmlClass="section__content"
                >
                    <block
                        class="Blackbird\ContentManager\Block\Content\Widget\ContentList"
                        name="colibri-brands-slider"
                        template="Blackbird_ContentManager::content/view/colibri_sliders/list.phtml"
                    >
                        <arguments>
                            <argument name="slider_picture_block" xsi:type="string">colibri-brand-picture</argument>
                            <argument name="slider_class" xsi:type="string">slider slider--brands</argument>
                            <argument
                                name="slider_title_class"
                                xsi:type="string"
                            >
                                heading--first-level margin-0
                            </argument>
                        </arguments>
                        <action method="setCtType">
                            <argument name="type" xsi:type="string">colibri_sliders</argument>
                        </action>
                        <action method="setPager">
                            <argument name="pager" xsi:type="boolean">false</argument>
                        </action>
                        <action method="setLimitDisplay">
                            <argument name="limit_display" xsi:type="string">1</argument>
                        </action>
                        <action method="addAttributeToFilter">
                            <argument name="attribute" xsi:type="string">cb_slider_id</argument>
                            <argument name="condition" xsi:type="string">eq</argument>
                            <argument name="value" xsi:type="string">colibri-brands-slider</argument>
                        </action>

                        <block
                            class="Magento\Framework\View\Element\Template"
                            name="colibri-brand-picture"
                            template="Magento_Theme::html/picture.phtml"
                        />
                    </block>
                </container>
            </container>

            <!-- Content block -->
            <block class="Magento\Cms\Block\Block" name="home-content" after="colibri-home-brands-container">
                <arguments>
                    <argument name="block_id" xsi:type="string">home-content</argument>
                </arguments>
            </block>
        </referenceContainer>

        <!-- removed blocks -->
        <referenceBlock name="page.main.title" remove="true" />
    </body>
</page>
